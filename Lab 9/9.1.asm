;Write a program to find the sum of numbers from 1 to n. Read n from the user and display the sum as the decimal format. (also try to display the sum in Hexadecimal format)

TITLE SUM FROM 1 TO N
.MODEL SMALL
.DATA
STRLEN DB 8
STRSZ DB ?
STR DB 9 DUP('$')
BASE DW 10
BASEH DW 10H
SUM DW ?
.STACK
.CODE

MAIN PROC FAR
MOV AX, @DATA
MOV DS, AX

;; GETTING THE NUMBER
LEA DX, STRLEN
MOV AH, 0AH
INT 21H

;; CONVERTING TO NUMBER
MOV CX, 00
MOV CL, STRSZ
LEA DI, STR
MOV AX, 00

L1: MOV BL, [DI]
CMP BL, '0'
JB BRK
CMP BL, '9'
JA BRK

;; CONVERTING TO NUMBER
AND BL, 0FH
MUL BASE
ADD AX, BX
INC DI
LOOP L1

BRK: ;; CALCULATING THE SUM
MOV CX, AX
MOV AX, 00

L2: ADD AX, CX
LOOP L2
MOV SUM, AX
;; NEW LINE CHARACTER
MOV AH, 02H
MOV DL, 0AH
INT 21H

;; DISPLAYING IN HEX
MOV AX, SUM
MOV CX, 4

L4: XOR DX, DX
MUL BASEH
OR DL, 30H
MOV BX, AX
MOV AH, 02H
INT 21H
MOV AX, BX
LOOP L4

;; CONVERTING TO DECIMAL
MOV AX,SUM
MOV CX, 00
MOV BX, 10

L3: MOV DX, 00
INC CX
DIV BX
CMP AX, 00
PUSH DX
JG L3

;; NEW LINE CHARACTER
MOV AH, 02H
MOV DL, 0AH
INT 21H
;; PRINTING IN DECIMAL

DIS: POP DX
OR DX, 30H
MOV AH, 02H
INT 21H
LOOP DIS

;; ENDING PROGRAM
MOV AH, 4CH
INT 21H
MAIN ENDP

END MAIN
